import{s as u,a as w}from"./utils-DuDkgmWv.js";const m=document.querySelector("#searchLyricSubmit"),c=document.querySelector(".display-area"),s=document.querySelector("#display-response"),r=document.querySelector(".display-area--quick-message");if(!m||!s||!s||!r||!c)throw new Error("Missing DOM elements on home page");const g=async l=>{const n=w(l).split(",").map(a=>a.trim()),e=new URL("http://localhost:8080/api/songs");n.forEach(a=>e.searchParams.append("words",a));const o=await fetch(e.toString());if(!o.ok)throw new Error("we have an error - cannot find the database");return await o.json()};m.addEventListener("click",async l=>{l.preventDefault(),s.innerHTML="";const d=document.querySelector("#input-field");try{const n=await g(d.value);if(n.length<=0){r.textContent="We found...nothing this time! Try something new.",c.style.opacity="1",r.style.opacity="1",await u(5e3),c.style.opacity="0",r.style.opacity="0";return}console.log(n),n.forEach(async(e,o)=>{let t=document.createElement("p");t.classList.add("display-area--text__card");const a=e.artists.map(p=>p.name).join(", ");t.innerHTML=`▶ ${a}:<br> ${e.name} `;let y=!1;s.appendChild(t),await u((o+1)*200),t.style.opacity="1",t.addEventListener("click",()=>{const p=`https://www.youtube.com/results?search_query=${e.name}+${a}`;if(y)t.innerHTML=`▶ ${a}:<br> ${e.name} `,y=!1;else{const i=document.createElement("a");i.setAttribute("href",p),i.setAttribute("target","_blank"),i.textContent="Find on Youtube";const h=e.genres.map(b=>b.name).join(", ");t.innerHTML=`▶ ${a}:<br> ${e.name}<br>
            Release Year: ${e.releaseYear}<br><br>
            Genre(s): ${h}<br><br>
            Lyrics:<br> ${e.lyrics}<br><br>
            `,t.appendChild(i),y=!0}})}),c.style.opacity="1",r.textContent="We found...",r.style.opacity="1",await u(300),s.style.opacity="1"}catch{return"No luck this time"}});
