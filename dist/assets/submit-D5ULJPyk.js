import{a as t,d as g}from"./utils-DuDkgmWv.js";const l=document.querySelector("#submit-song-form"),o=document.querySelector("#error-message");if(!l||!o)throw new Error("Missing DOM elements on submit page");l.addEventListener("submit",async r=>{r.preventDefault(),console.log("button has been pressed!");const s=r.target,e=new FormData(s),n=t(e.get("name")),a=t(e.get("artistNames")).trim().split(",");let i=Number(t(e.get("releaseYear")));const c=t(e.get("genreNames")).trim().split(","),m=t(e.get("lyrics")),p=JSON.stringify({name:n,lyrics:m,releaseYear:i,artistNames:a,genreNames:c});console.log(p);try{(await fetch("http://localhost:8080/api/songs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,artists:a,releaseYear:i,genres:c,lyrics:m})})).ok?g(s,o,"Thanks for your contribution! We appreciate your support."):g(s,o,"Oops, something went wrong there. Please make sure you've typed your addition correctly")}catch{console.log("You're not connected properly yet - check your API.")}});
